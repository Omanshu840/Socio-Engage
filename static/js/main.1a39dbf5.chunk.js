(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,a){e.exports=a(130)},129:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(13),c=a.n(r),o=a(8),i=a(40),u=a(14),m=a(183),s=a(182),d=a(165),p=a(161),f=a(76),E=a.n(f),h=a(103),g=a.n(h),j=a(102),v=a.n(j),y=a(105),b=a.n(y),O=a(104),S=a.n(O),w=a(75),N=a.n(w),C=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useContext)(be),f=c.state,h=c.dispatch,j=Object(i.f)();return l.a.createElement(s.a,{expanded:a,className:"main-navbar",fixed:"top",expand:"lg"},l.a.createElement(d.a,null,l.a.createElement(s.a.Brand,{href:"#home"},"Socio Engage"),l.a.createElement(s.a.Toggle,{onClick:function(){return r(!a&&"expanded")},"aria-controls":"basic-navbar-nav"}),l.a.createElement(s.a.Collapse,{id:"basic-navbar-nav"},f?l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{className:"mr-auto"},l.a.createElement(u.b,{to:"/Socio-Engage/",className:"nav-link",onClick:function(){return r(!1)}},l.a.createElement(p.a,{size:"large",startIcon:l.a.createElement(v.a,null)},"Explore")),l.a.createElement(u.b,{to:"/Socio-Engage/followingpost",className:"nav-link",onClick:function(){return r(!1)}},l.a.createElement(p.a,{size:"large",startIcon:l.a.createElement(g.a,null)},"Feed")),l.a.createElement(u.b,{to:"/Socio-Engage/createpost",className:"nav-link",onClick:function(){return r(!1)}},l.a.createElement(p.a,{size:"large",startIcon:l.a.createElement(S.a,null)},"Post")),l.a.createElement(u.b,{to:"/Socio-Engage/search",className:"nav-link",onClick:function(){return r(!1)}},l.a.createElement(p.a,{size:"large",startIcon:l.a.createElement(N.a,null)},"Search"))),l.a.createElement(m.a,null,l.a.createElement(u.b,{to:"/Socio-Engage/profile",className:"nav-link",onClick:function(){return r(!1)}},l.a.createElement(p.a,{size:"large",endIcon:l.a.createElement(E.a,null)},"Profile")),l.a.createElement(u.b,{className:"nav-link",onClick:function(){return r(!1)}},l.a.createElement(p.a,{size:"large",variant:"contained",color:"secondary",endIcon:l.a.createElement(b.a,null),onClick:function(){localStorage.clear(),h({type:"CLEAR"}),j.push("/Socio-Engage/signin")}},"Logout")))):l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,{className:"ml-auto"},l.a.createElement(u.b,{to:"/Socio-Engage/signin",className:"nav-link",onClick:function(){return r(!1)}},l.a.createElement(p.a,{size:"large"},"Sign In")),l.a.createElement(u.b,{to:"/Socio-Engage/signup",className:"nav-link",onClick:function(){return r(!1)}},l.a.createElement(p.a,{size:"large"},"Sign Up")))))))},k=a(131),I=a(167),_=a(186),x=a(132),B=a(185),A=a(168),z=a(169),F=a(170),J=a(171),T=a(172),P=a(173),U=a(181),D=a(166),W=a(184),R=a(77),L=a.n(R),H=a(79),q=a.n(H),M=a(78),$=a.n(M),G=a(81),K=a.n(G),Q=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useContext)(be),i=c.state;c.dispatch;Object(n.useEffect)((function(){fetch("/allposts",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){r(e.posts),console.log(e.posts)}))}),[]);return l.a.createElement(d.a,null,i&&a.map((function(e,t){return l.a.createElement(D.a,{className:"justify-content-md-center",key:t},l.a.createElement("div",{className:"col-12 col-md-8 card-post"},l.a.createElement(k.a,{elevation:3},l.a.createElement(W.a,null,l.a.createElement(I.a,{avatar:l.a.createElement(_.a,null,l.a.createElement("img",{src:"https://res.cloudinary.com/omanshu840/image/upload/v1608609510/sample.jpg",alt:"..."})),action:e.postedBy._id===i._id&&l.a.createElement(x.a,{variant:"primary",onClick:function(){var t;t=e._id,fetch("/deletepost/".concat(t),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=a.filter((function(t){return t._id!==e._id}));r(t)}))}},l.a.createElement(L.a,null)),title:l.a.createElement(u.b,{to:e.postedBy._id!==i._id?"/Socio-Engage/profile/"+e.postedBy._id:"/Socio-Engage/profile"},e.postedBy.name),subheader:e.postedBy.email}),l.a.createElement(W.a.Body,null,l.a.createElement("img",{src:e.photo,alt:"..."})),l.a.createElement(W.a.Footer,{className:"text-muted"},l.a.createElement("div",null,e.likes.includes(i._id)?l.a.createElement(x.a,{onClick:function(){var t;t=e._id,fetch("/unlike",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=a.map((function(t){return t._id===e._id?e:t}));r(t)}))}},l.a.createElement($.a,null)):l.a.createElement(x.a,{onClick:function(){var t;t=e._id,fetch("/like",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=a.map((function(t){return t._id===e._id?e:t}));r(t)}))}},l.a.createElement(q.a,null))),l.a.createElement("div",null,e.likes.length," Likes"),l.a.createElement("div",{className:"mt-3"},l.a.createElement("h4",null,e.title)),l.a.createElement("div",null,l.a.createElement("p",null,e.body)),l.a.createElement(B.a,null,l.a.createElement(A.a,{expandIcon:l.a.createElement(K.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},"Comments"),l.a.createElement(z.a,null,l.a.createElement(F.a,null,e.comments.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(J.a,null),l.a.createElement(T.a,null,l.a.createElement(P.a,{primary:e.postedBy.name,secondary:e.text})))})),l.a.createElement(J.a,null),l.a.createElement(T.a,null,l.a.createElement("form",{onSubmit:function(t){var n,l;t.preventDefault(),n=t.target[0].value,l=e._id,fetch("/comment",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:l,text:n})}).then((function(e){return e.json()})).then((function(e){var t=a.map((function(t){return t._id===e._id?e:t}));r(t)})).catch((function(e){console.log(e)}))}},l.a.createElement(U.a,{id:"input-with-icon-textfield",label:"Add a comment"})))))))))))})))},V=a(82),X=a.n(V),Y=a(83),Z=a.n(Y),ee=a(84),te=a.n(ee),ae=a(175),ne=a(187),le=a(174),re=a(176),ce=a(85),oe=a.n(ce),ie=function(){var e=Object(n.useContext)(be),t=(e.state,e.dispatch),a=Object(i.f)(),r=Object(n.useState)(""),c=Object(o.a)(r,2),m=c[0],s=c[1],f=Object(n.useState)(""),E=Object(o.a)(f,2),h=E[0],g=E[1],j=Object(n.useState)(!1),v=Object(o.a)(j,2),y=v[0],b=v[1];return l.a.createElement(d.a,null,l.a.createElement(D.a,{className:"justify-content-md-center"},l.a.createElement("div",{className:"col-12 col-md-6 card-login"},l.a.createElement(k.a,{elevation:3},l.a.createElement(W.a,{className:"text-center"},l.a.createElement(W.a.Header,null,l.a.createElement("h2",null,"Sign In")),l.a.createElement(W.a.Body,null,l.a.createElement(ae.a,{fullWidth:!0},l.a.createElement(ne.a,{htmlFor:"email-field"},"Email*"),l.a.createElement(le.a,{id:"email-field",type:"email",value:h,onChange:function(e){return g(e.target.value)},endAdornment:l.a.createElement(re.a,{position:"end"},l.a.createElement(x.a,null,l.a.createElement(X.a,null)))})),l.a.createElement(ae.a,{fullWidth:!0},l.a.createElement(ne.a,{htmlFor:"standard-adornment-password"},"Password*"),l.a.createElement(le.a,{required:!0,id:"standard-adornment-password",type:y?"text":"password",value:m,onChange:function(e){return s(e.target.value)},endAdornment:l.a.createElement(re.a,{position:"end"},l.a.createElement(x.a,{"aria-label":"toggle password visibility",onClick:function(){return b(!y)}},y?l.a.createElement(Z.a,null):l.a.createElement(te.a,null)))})),l.a.createElement(u.b,{to:"/signup"},"Don't have an account? Sign Up")),l.a.createElement(W.a.Footer,{className:"text-muted"},l.a.createElement(p.a,{size:"large",variant:"contained",color:"primary",onClick:function(){fetch("/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:m,email:h})}).then((function(e){return e.json()})).then((function(e){e.error?alert(e.error):(localStorage.setItem("jwt",e.token),localStorage.setItem("user",JSON.stringify(e.user)),t({type:"USER",payload:e.user}),a.push("/Socio-Engage/"))})).catch((function(e){console.log(e)}))},endIcon:l.a.createElement(oe.a,null)},"Sign In")))))))},ue=a(30),me=a(177),se=a(178),de=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useContext)(be),i=c.state,u=c.dispatch,m=Object(n.useState)(""),s=Object(o.a)(m,2),p=s[0],f=s[1];Object(n.useEffect)((function(){fetch("/myposts",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e.myPost),r(e.myPost)}))}),[]),Object(n.useEffect)((function(){if(p){var e=new FormData;e.append("file",p),e.append("upload_preset","social-connect"),e.append("cloud_name","omanshu840"),fetch("https://api.cloudinary.com/v1_1/omanshu840/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){fetch("/updatepic",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({pic:e.url})}).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem("user",JSON.stringify(Object(ue.a)({},i,{pic:e.pic}))),u({type:"UPDATEPIC",payload:e.pic})}))})).catch((function(e){console.log(e)}))}}),[p]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,null,l.a.createElement(me.a,{elevation:3},l.a.createElement(D.a,null,l.a.createElement("div",{className:"profile-img col-12 col-md-3"},l.a.createElement(se.a,{src:i?i.pic:"loading",rounded:!0})),l.a.createElement("div",{className:"profile-info col-12 col-md-9"},l.a.createElement("div",{className:"content pt-3"},l.a.createElement("h3",{className:"pl-4"},i?i.name:"loading"),l.a.createElement("p",{className:"text-muted pl-4"},i?i.email:"loading"),l.a.createElement("p",{className:"pl-4"},l.a.createElement("div",null,i?i.followers.length:"0"," followers"),l.a.createElement("div",null,i?i.following.length:"0"," following"),l.a.createElement("div",{className:"mt-3"},l.a.createElement("strong",null,"Update pic"),l.a.createElement("input",{className:"px-3",type:"file",placeholder:"update pic",onChange:function(e){return t=e.target.files[0],void f(t);var t}}))))))),l.a.createElement(me.a,{className:"mt-4",elevation:3},l.a.createElement(D.a,null,a.map((function(e,t){return l.a.createElement("div",{key:t,className:"col-12 col-md-3 profile-feed"},l.a.createElement("img",{src:e.photo,alt:"..."}))}))))))},pe=a(109),fe=a(179),Ee=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useContext)(be),u=c.state,m=c.dispatch,s=Object(i.g)().userid,p=Object(n.useState)(!u||!u.following.includes(s)),f=Object(o.a)(p,2),E=f[0],h=f[1];Object(n.useEffect)((function(){fetch("/user/".concat(s),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e),r(e)}))}),[]);return l.a.createElement(l.a.Fragment,null,a?l.a.createElement(d.a,null,l.a.createElement(me.a,{elevation:3,className:"p-2"},l.a.createElement(D.a,null,l.a.createElement("div",{className:"profile-img col-12 col-md-3"},l.a.createElement(se.a,{src:a.user.pic,rounded:!0})),l.a.createElement("div",{className:"profile-info col-12 col-md-9"},l.a.createElement("div",{className:"content pt-3"},l.a.createElement("h3",{className:"pl-4"},a.user.name),l.a.createElement("p",{className:"text-muted pl-4"},a.user.email),l.a.createElement("p",{className:"pl-4"},l.a.createElement("div",null,a.user.followers.length," followers"),l.a.createElement("div",null,a.user.following.length," following")),l.a.createElement("div",{className:"pl-4"},E?l.a.createElement(fe.a,{variant:"primary",onClick:function(){fetch("/follow",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({followId:s})}).then((function(e){return e.json()})).then((function(e){m({type:"UPDATE",payload:{following:e.following,followers:e.followers}}),localStorage.setItem("user",JSON.stringify(e)),r((function(t){return Object(ue.a)({},t,{user:Object(ue.a)({},t.user,{followers:[].concat(Object(pe.a)(t.user.followers),[e._id])})})})),h(!1)}))}},"follow"):l.a.createElement(fe.a,{variant:"primary",onClick:function(){fetch("/unfollow",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({unfollowId:s})}).then((function(e){return e.json()})).then((function(e){m({type:"UPDATE",payload:{following:e.following,followers:e.followers}}),localStorage.setItem("user",JSON.stringify(e)),r((function(t){var a=t.user.followers.filter((function(t){return t!==e._id}));return Object(ue.a)({},t,{user:Object(ue.a)({},t.user,{followers:a})})})),h(!0)}))}},"Unfollow"))))))):l.a.createElement("h2",null,"Loading .. "))},he=function(){var e=Object(i.f)(),t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],m=Object(n.useState)(""),s=Object(o.a)(m,2),f=s[0],h=s[1],g=Object(n.useState)(""),j=Object(o.a)(g,2),v=j[0],y=j[1],b=Object(n.useState)(""),O=Object(o.a)(b,2),S=O[0],w=(O[1],Object(n.useState)(void 0)),N=Object(o.a)(w,2),C=N[0],I=N[1],_=Object(n.useState)(!1),B=Object(o.a)(_,2),A=B[0],z=B[1];Object(n.useEffect)((function(){C&&F()}),[C]);var F=function(){fetch("/signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,password:f,email:v,pic:C})}).then((function(e){return e.json()})).then((function(t){t.error?alert(t.error):(alert("signed up successfully"),e.push("/Socio-Engage/signin"))})).catch((function(e){console.log(e)}))},J=function(){S?function(){var e=new FormData;e.append("file",S),e.append("upload_preset","social-connect"),e.append("cloud_name","omanshu840"),fetch("https://api.cloudinary.com/v1_1/omanshu840/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){console.log(e.url),I(e.url)})).catch((function(e){console.log(e)}))}():F()};return l.a.createElement(d.a,null,l.a.createElement(D.a,{className:"justify-content-md-center"},l.a.createElement("div",{className:"col-12 col-md-6 card-login"},l.a.createElement(k.a,{elevation:3},l.a.createElement(W.a,{className:"text-center"},l.a.createElement(W.a.Header,null,l.a.createElement("h2",null,"Sign Up")),l.a.createElement(W.a.Body,null,l.a.createElement(ae.a,{fullWidth:!0},l.a.createElement(ne.a,{htmlFor:"name-field"},"Name*"),l.a.createElement(le.a,{id:"name-field",type:"text",value:r,onChange:function(e){return c(e.target.value)},endAdornment:l.a.createElement(re.a,{position:"end"},l.a.createElement(x.a,null,l.a.createElement(E.a,null)))})),l.a.createElement(ae.a,{fullWidth:!0},l.a.createElement(ne.a,{htmlFor:"email-field"},"Email*"),l.a.createElement(le.a,{id:"email-field",type:"email",value:v,onChange:function(e){return y(e.target.value)},endAdornment:l.a.createElement(re.a,{position:"end"},l.a.createElement(x.a,null,l.a.createElement(X.a,null)))})),l.a.createElement(ae.a,{fullWidth:!0},l.a.createElement(ne.a,{htmlFor:"standard-adornment-password"},"Password*"),l.a.createElement(le.a,{required:!0,id:"standard-adornment-password",type:A?"text":"password",value:f,onChange:function(e){return h(e.target.value)},endAdornment:l.a.createElement(re.a,{position:"end"},l.a.createElement(x.a,{"aria-label":"toggle password visibility",onClick:function(){return z(!A)}},A?l.a.createElement(Z.a,null):l.a.createElement(te.a,null)))})),l.a.createElement(u.b,{to:"/signin"},"Already have an account? Sign In")),l.a.createElement(W.a.Footer,{className:"text-muted"},l.a.createElement(p.a,{size:"large",variant:"contained",color:"primary",onClick:function(){return J()},endIcon:l.a.createElement(oe.a,null)},"Sign Up")))))))},ge=function(){var e=Object(i.f)(),t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],u=Object(n.useState)(""),m=Object(o.a)(u,2),s=m[0],f=m[1],E=Object(n.useState)(""),h=Object(o.a)(E,2),g=h[0],j=h[1],v=Object(n.useState)(""),y=Object(o.a)(v,2),b=y[0],O=y[1];Object(n.useEffect)((function(){b&&fetch("/createpost",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({title:r,body:s,imgUrl:b})}).then((function(e){return e.json()})).then((function(t){t.error?alert(t.error):(alert("created post successfully"),e.push("/"))}))}),[b]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,null,l.a.createElement(D.a,{className:"justify-content-md-center"},l.a.createElement("div",{className:"col-12 col-md-6 card-login"},l.a.createElement(k.a,{elevation:3},l.a.createElement(W.a,{className:"text-center"},l.a.createElement(W.a.Header,null,l.a.createElement("h2",null,"Create New Post")),l.a.createElement(W.a.Body,null,l.a.createElement(ae.a,{fullWidth:!0},l.a.createElement(ne.a,{htmlFor:"name-field"},"Title*"),l.a.createElement(le.a,{id:"name-field",type:"text",value:r,onChange:function(e){return c(e.target.value)}})),l.a.createElement(ae.a,{fullWidth:!0},l.a.createElement(ne.a,{htmlFor:"email-field"},"Content*"),l.a.createElement(le.a,{id:"email-field",type:"text",value:s,onChange:function(e){return f(e.target.value)}})),l.a.createElement("input",{type:"file",placeholder:"upload image",onChange:function(e){return j(e.target.files[0])}})),l.a.createElement(W.a.Footer,{className:"text-muted"},l.a.createElement(p.a,{size:"large",variant:"contained",color:"primary",onClick:function(){return function(){var e=new FormData;e.append("file",g),e.append("upload_preset","social-connect"),e.append("cloud_name","omanshu840"),fetch("https://api.cloudinary.com/v1_1/omanshu840/image/upload",{method:"post",body:e}).then((function(e){return e.json()})).then((function(e){console.log(e.url),O(e.url)})).catch((function(e){console.log(e)}))}()}},"Post"))))))))},je=function(e,t){return"USER"===t.type?t.payload:"CLEAR"===t.type?null:"UPDATE"===t.type?Object(ue.a)({},e,{followers:t.payload.followers,following:t.payload.following}):"UPDATEPIC"===t.type?Object(ue.a)({},e,{pic:t.payload}):e},ve=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useContext)(be),i=c.state;c.dispatch;Object(n.useEffect)((function(){fetch("/getsubpost",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){r(e.posts)}))}),[]);return l.a.createElement(d.a,null,a.map((function(e,t){return l.a.createElement(D.a,{className:"justify-content-md-center",key:t},l.a.createElement("div",{className:"col-12 col-md-8 card-post"},l.a.createElement(k.a,{elevation:3},l.a.createElement(W.a,null,l.a.createElement(I.a,{avatar:l.a.createElement(_.a,null,l.a.createElement("img",{src:"https://res.cloudinary.com/omanshu840/image/upload/v1608609510/sample.jpg",alt:"..."})),action:e.postedBy._id===i._id&&l.a.createElement(x.a,{variant:"primary",onClick:function(){var t;t=e._id,fetch("/deletepost/".concat(t),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=a.filter((function(t){return t._id!==e._id}));r(t)}))}},l.a.createElement(L.a,null)),title:l.a.createElement(u.b,{to:e.postedBy._id!==i._id?"/profile/"+e.postedBy._id:"/profile"},e.postedBy.name),subheader:e.postedBy.email}),l.a.createElement(W.a.Body,null,l.a.createElement("img",{src:e.photo,alt:"..."})),l.a.createElement(W.a.Footer,{className:"text-muted"},l.a.createElement("div",null,e.likes.includes(i._id)?l.a.createElement(x.a,{onClick:function(){var t;t=e._id,fetch("/unlike",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=a.map((function(t){return t._id===e._id?e:t}));r(t)}))}},l.a.createElement($.a,null)):l.a.createElement(x.a,{onClick:function(){var t;t=e._id,fetch("/like",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=a.map((function(t){return t._id===e._id?e:t}));r(t)}))}},l.a.createElement(q.a,null))),l.a.createElement("div",null,e.likes.length," Likes"),l.a.createElement("div",{className:"mt-3"},l.a.createElement("h4",null,e.title)),l.a.createElement("div",null,l.a.createElement("p",null,e.body)),l.a.createElement(B.a,null,l.a.createElement(A.a,{expandIcon:l.a.createElement(K.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},"Comments"),l.a.createElement(z.a,null,l.a.createElement(F.a,null,e.comments.map((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(J.a,{variant:"inset",component:"li"}),l.a.createElement(T.a,null,l.a.createElement(P.a,{primary:e.postedBy.name,secondary:e.text})))})),l.a.createElement(T.a,null,l.a.createElement("form",{onSubmit:function(t){var n,l;t.preventDefault(),n=t.target[0].value,l=e._id,fetch("/comment",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:l,text:n})}).then((function(e){return e.json()})).then((function(e){var t=a.map((function(t){return t._id===e._id?e:t}));r(t)})).catch((function(e){console.log(e)}))}},l.a.createElement(U.a,{id:"input-with-icon-textfield",label:"Add a comment"})))))))))))})))},ye=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),i=Object(o.a)(c,2),m=i[0],s=i[1],p=Object(n.useState)([]),f=Object(o.a)(p,2),E=f[0],h=f[1];Object(n.useEffect)((function(){fetch("/allusers",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){r(e.users),console.log(e.users)}))}),[]);return l.a.createElement(d.a,null,l.a.createElement(D.a,{className:"justify-content-center mb-3"},l.a.createElement("div",{className:"col-12 col-md-6"},l.a.createElement(me.a,{className:"p-4"},l.a.createElement(U.a,{id:"input-with-icon-textfield",label:"Search Users",value:m,onChange:function(e){return function(e){if(s(e),""!==e){var t=[];a.map((function(a){(a.email.includes(e)||a.name.includes(e))&&t.push(a)})),h(t)}else h([])}(e.target.value)},fullWidth:!0,InputProps:{endAdornment:l.a.createElement(re.a,{position:"end"},l.a.createElement(N.a,null))}})))),l.a.createElement(D.a,{className:"justify-content-center"},l.a.createElement("div",{className:"col-12 col-md-6"},l.a.createElement(me.a,null,l.a.createElement(F.a,null,E.map((function(e,t){var a="/Socio-Engage/profile/"+e._id;return l.a.createElement("div",{id:"index"},l.a.createElement(J.a,null),l.a.createElement(u.b,{to:a},l.a.createElement(T.a,null,l.a.createElement(P.a,{primary:e.name}))))})))))))},be=Object(n.createContext)(),Oe=function(){var e=Object(i.f)(),t=Object(n.useContext)(be),a=(t.state,t.dispatch);Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("user"));t?a({type:"USER",payload:t}):e.push("/signin")}),[]);var r="/Socio-Engage";return l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:r+"/"},l.a.createElement(Q,null)),l.a.createElement(i.a,{path:r+"/signin"},l.a.createElement(ie,null)),l.a.createElement(i.a,{path:r+"/signup"},l.a.createElement(he,null)),l.a.createElement(i.a,{exact:!0,path:r+"/profile"},l.a.createElement(de,null)),l.a.createElement(i.a,{path:r+"/createpost"},l.a.createElement(ge,null)),l.a.createElement(i.a,{path:r+"/profile/:userid"},l.a.createElement(Ee,null)),l.a.createElement(i.a,{path:r+"/followingpost"},l.a.createElement(ve,null)),l.a.createElement(i.a,{path:r+"/search"},l.a.createElement(ye,null)))};var Se=function(){var e=Object(n.useReducer)(je,null),t=Object(o.a)(e,2),a=t[0],r=t[1];return l.a.createElement(be.Provider,{value:{state:a,dispatch:r}},l.a.createElement(u.a,null,l.a.createElement(C,null),l.a.createElement(Oe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(128),a(129);var we=a(108),Ne=a(180),Ce=Object(we.a)({typography:{fontFamily:["Raleway","sans-serif"].join(",")}});c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Ne.a,{theme:Ce},l.a.createElement(Se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[114,1,2]]]);
//# sourceMappingURL=main.1a39dbf5.chunk.js.map